<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <select id="year-select">
        <option value="2000">2000</option>
        <option value="2001">2001</option>
        <option value="2002">2002</option>
        ……
        <option value="2032">2002</option>
    </select>
    
    <select id="month-select">
        <option value="1">1</option>
        <option value="2">2</option>
        ……
        <option value="12">12</option>
    </select>
    
    <select id="day-select">
        <option value="1">1</option>
        <option value="2">2</option>
        ……
        <option value="31">31</option>
    </select>
    
    <select id="hour-select">
        <option value="0">00</option>
        <option value="1">01</option>        
        ……
        <option value="23">23</option>
    </select>
    
    <select id="minute-select">
        <option value="0">0</option>
        <option value="1">1</option>
        ……
        <option>59</option>
    </select>
    
    <select id="second-select">
        <option value="0">0</option>
        <option value="1">1</option>
        ……
        <option>59</option>
    </select>
    
    <p id="result-wrapper">现在距离 2001年1月1日星期X HH:MM:SS 还有 X 天 X 小时 X 分 X 秒</p>

    <script>
        let selects = document.querySelectorAll('select');
        for (let i = 0; i < selects.length; i++){
            // if (selects[i].getAttribute('id'))
            console.log(selects[i].getAttribute('id'));
            selects[i].addEventListener('change', function(){
                showTime();
            });
        }
        console.log(showTime());

        function showTime(){
            let year = getSelectValue('#year-select');
            let month = getSelectValue('#month-select');
            let day = getSelectValue('#day-select');
            let hour = getSelectValue('#hour-select');
            let minute = getSelectValue('#minute-select');
            let second = getSelectValue('#second-select');

            let date = new Date();
            date.setFullYear(year);
            date.setMonth(month);
            date.setDate(day);
            return year + '年' + month + '月' + day + '日' + getWeekDay(date) + ' '
                + complementZero(hour) + ':' + complementZero(minute) + ':' + complementZero(second);
        }

        function getSelectValue(selectId){
            let selectOptions = document.querySelectorAll(selectId + ' option');
            return selectOptions[document.querySelector(selectId).selectedIndex].value;
        }

        function getWeekDay(date){
            switch(date.getDay() + 1){
                case 1: return '星期一';
                case 2: return '星期二';
                case 3: return '星期三';
                case 4: return '星期四';
                case 5: return '星期五';
                case 6: return '星期六';
                case 7: return '星期日';
            }
        }
        
        function complementZero(num){
            return num < 10 ? '0' + num : num;
        }
    </script>
</body>
</html>
